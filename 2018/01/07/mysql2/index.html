<!DOCTYPE HTML>
<html>
<head>
  <meta charset="utf-8">
  
  <title>MySQL学习笔记(二) | Aesm1p&#39;s Blog | 前方如聂鲁达的爱情诗一般美好</title>

  
  <meta name="author" content="Aesm1p">
  

  
  <meta name="description" content="相逢意气为君饮">
  

  
  
  <meta name="keywords" content="SQL">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, minimum-scale=1, user-scalable=no, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="MySQL学习笔记(二)"/>

  <meta property="og:site_name" content="Aesm1p&#39;s Blog"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="Aesm1p&#39;s Blog" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
<meta name="generator" content="Hexo 4.2.1"></head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">Aesm1p&#39;s Blog</a>
    </h1>
    <p class="site-description">前方如聂鲁达的爱情诗一般美好</p>
  </div>
  <nav class="site-navigation">
    <ul>
      
        <li><a href="/">HOME</a></li>
      
        <li><a href="/archives">ARCHIVES</a></li>
      
        <li><a href="/tags">TAGS</a></li>
      
        <li><a href="/about">ABOUT</a></li>
      
    </ul>
  </nav>
</header>

    <main class="site-main posts-loop">
    <article>

  
    
    <h3 class="article-title"><span>MySQL学习笔记(二)</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/2018/01/07/mysql2/" rel="bookmark">
        <time class="entry-date published" datetime="2018-01-07T14:16:20.000Z">
          2018-01-07
        </time>
      </a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>Mysql数据库的增删查改<br><a id="more"></a></p>
<h3 id="MYSQL基本命令"><a href="#MYSQL基本命令" class="headerlink" title="MYSQL基本命令"></a>MYSQL基本命令</h3><div class="table-container">
<table>
<thead>
<tr>
<th>命令</th>
<th>解释</th>
<th>备注</th>
</tr>
</thead>
<tbody>
<tr>
<td>show variables like ‘char%’;</td>
<td>显示系统中带有char字符的系统参数</td>
<td></td>
</tr>
<tr>
<td>set character_set_client gbk;</td>
<td>设置客户端编码方式为GBK</td>
<td></td>
</tr>
<tr>
<td>status;</td>
<td>显示当前系统信息</td>
<td></td>
</tr>
<tr>
<td>delimiter $$</td>
<td>修改命令结束符号为$$</td>
<td>想要恢复；作为结束符使用 opdelimiter ;</td>
</tr>
</tbody>
</table>
</div>
<hr>
<h3 id="数据库语句"><a href="#数据库语句" class="headerlink" title="数据库语句"></a>数据库语句</h3><p><strong>创建数据库</strong></p>
<h2 id><a href="#" class="headerlink" title></a><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">create [database|schema] [if not existe] databasename</span><br><span class="line">[options ...]</span><br></pre></td></tr></table></figure></h2><p><strong>修改数据库</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ALTER [DATABASE|SCHEMA] [DATABASENAME]</span><br><span class="line">	OPTION ...</span><br></pre></td></tr></table></figure><br>此命令用于修改数据库的全局特性，这些特性存在db.opt文件中，如果语句中忽略数据库名，则会修改当前数据库<br>示例代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">alter database xscj</span><br><span class="line">default charcter set gb2312;</span><br></pre></td></tr></table></figure></p>
<p><strong>删除数据库</strong><br>DROP DATABASE DATABASENAME</p>
<hr>
<h3 id="表结构操作语句"><a href="#表结构操作语句" class="headerlink" title="表结构操作语句"></a>表结构操作语句</h3><h4 id="创建表"><a href="#创建表" class="headerlink" title="创建表"></a>创建表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">create [temporary] table [if not exists] user(</span><br><span class="line">	id int auto_increment not null primary key,</span><br><span class="line">	username varchar(10) not null</span><br><span class="line">);  # 使用ifnot...从句可以不显示错误信息</span><br><span class="line">	# unique key也可以表示字段名唯一</span><br></pre></td></tr></table></figure>
<h4 id="插入语句"><a href="#插入语句" class="headerlink" title="插入语句"></a>插入语句</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">insert into tablename values(1,&#39;Tom&#39;)  # 字符串串值需要用引号括起来</span><br></pre></td></tr></table></figure>
<h4 id="复制现成的表"><a href="#复制现成的表" class="headerlink" title="复制现成的表"></a>复制现成的表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">CREATE TABLE TABLE_NAME LIKE HAVED_TABLE; # 该命令会复制一个与已有表结构相同的空表</span><br><span class="line">CREATE TABLE TABLE_NAME AS (表达式ex：select * from haved_table); </span><br><span class="line">	# 该命令是复制表达内容，但是表达式和索引不会复制，只会复制内容部分，例如主键特性就不会被复制</span><br></pre></td></tr></table></figure>
<h4 id="修改表"><a href="#修改表" class="headerlink" title="修改表"></a>修改表</h4><h5 id="修改表结构"><a href="#修改表结构" class="headerlink" title="修改表结构"></a>修改表结构</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">ALTER [IGNORE] TABLE table_name</span><br><span class="line">	option ...</span><br><span class="line">OPTIOIN:</span><br><span class="line">ADD [COLUMN] 列定义 [FIRST|AFTER 列名]			&#x2F;*添加列*&#x2F;</span><br><span class="line">ALTER [COLUMN] 列名 &#123;SET DEFAULT literal|DROP DEAFAULT&#125;			&#x2F;*修改默认值*&#x2F;</span><br><span class="line">CHANGE [COLUMN] 列名 愿列名 [FIRST|AFTER 列名]				&#x2F;*列名重定义*&#x2F;</span><br><span class="line">MODIFY [COLUMN] 列定义 [FIRST|AFTER 列名]			&#x2F;*修改列数据类型*&#x2F;</span><br><span class="line">DROP [COLUMN] 列名 				&#x2F;*删除列*&#x2F;</span><br><span class="line">RANAME [TO] 列表名				&#x2F;*重命名该表*&#x2F;</span><br><span class="line">ORDER BY 列名 					&#x2F;*排序*&#x2F;</span><br><span class="line">CONVERT TO CHARACTER SET 字符集名 [COLLATE 校对规则名] 		&#x2F;*将字符集转换为二进制*&#x2F;</span><br><span class="line">[DEFAULT] CHARACTER SET 字符集名 [COLLATE 校对规则名]			&#x2F;*修改默认字符集*&#x2F;</span><br></pre></td></tr></table></figure>
<p><strong>示例代码</strong><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.alter <span class="keyword">table</span> xs <span class="keyword">add</span> <span class="keyword">column</span> 性别 <span class="built_in">bit</span> <span class="keyword">not</span> <span class="literal">null</span> <span class="keyword">after</span> 姓名;      	<span class="comment"># 注意列名不加引号，加了会报错</span></span><br><span class="line">2.alter <span class="keyword">table</span> xs <span class="keyword">change</span> 备注 <span class="keyword">backup</span> <span class="built_in">char</span>(<span class="number">10</span>);					<span class="comment"># 修改列名，先给出原列名，注意后面必须要加新列名的数据类型</span></span><br><span class="line">3.alter <span class="keyword">table</span> xs <span class="keyword">modify</span> <span class="keyword">backup</span> <span class="built_in">char</span>(<span class="number">11</span>);						<span class="comment"># 修改列的数据类型，但是如果新的数据类型与所存的数据类型冲突则会错误</span></span><br></pre></td></tr></table></figure><br>对于多条命令可以用，号隔开<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">alter table xs</span><br><span class="line">	add 年级 tinyint,</span><br><span class="line">	drop column 姓名;</span><br></pre></td></tr></table></figure></p>
<h5 id="更改表名"><a href="#更改表名" class="headerlink" title="更改表名"></a>更改表名</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">RENAME TABLE 老表名 TO 新表名										&#x2F;*多个命令之间用逗号隔开*&#x2F;</span><br></pre></td></tr></table></figure>
<h4 id="删除表"><a href="#删除表" class="headerlink" title="删除表"></a>删除表</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">DROP [TEMPORARY] TABLE [IF EXISTS] 表名</span><br></pre></td></tr></table></figure>
<h4 id="表结构特点"><a href="#表结构特点" class="headerlink" title="表结构特点"></a>表结构特点</h4><p>1.表达空值与数值数据0或者空字符混为一谈，任意两个空值都不相等<br>2.长度小于4的varchar被改变为char<br>3.隐含的改变列类型</p>
<hr>
<h3 id="表记录操作"><a href="#表记录操作" class="headerlink" title="表记录操作"></a>表记录操作</h3><h4 id="插入记录"><a href="#插入记录" class="headerlink" title="插入记录"></a>插入记录</h4><p>4.1 插入新纪录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">INSERT [LOW_PRIORITY|DELAYED|HIGH_PRIORITY] &#123;%raw%&#125;[IGNORE]&#123;%endraw%&#125;  # low,delayed等表示该操作的优先级</span><br><span class="line">	[INTO] 表名 [(列名,...)]</span><br><span class="line">	VALUES(&#123;expr|default&#125;,...),(,...),...</span><br><span class="line">	|SET 列名&#x3D;&#123;expr|default&#125;,...</span><br><span class="line">    [ON DUPLICATE KEY UPDATE 列名&#x3D;expr,..] # 该语句作用是如果发生unique key或primary key或primary出现重复，则按照该语句指定的列插入</span><br></pre></td></tr></table></figure>
<p>4.2 从已有表中插入新记录</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">INSERT [LOW_PRIORITY|DELAYED|HIGH_PRIORITY] &#123;%raw%&#125;[IGNORE]&#123;%endraw%&#125;</span><br><span class="line">	[INTO] 表名 [(列名,...)]</span><br><span class="line">	SELECT 语句</span><br><span class="line">	[ON DUPLICATE KEY UPDATE 列名&#x3D;expr,..]</span><br></pre></td></tr></table></figure>
<p>4.3 替换旧记录    REPLACE<br>    语句与insert相同，该语句会在插入之前将与新纪录冲突的旧记录删除，从而插入新数据<br>4.4 插入图片可以插入路径或者直接存储图片本身(使用load_file()函数，参数为图片路径)</p>
<h4 id="修改记录"><a href="#修改记录" class="headerlink" title="修改记录"></a>修改记录</h4><p><strong>4.1 修改单个表</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">UPDATE [LOW_PRIORITY] [IGNORE] 表名</span><br><span class="line">	SET 列名1&#x3D;expr1[,列名2&#x3D;expr2...]</span><br><span class="line">	[WHERE 条件]      # 若没有设定，则会更新所有区行</span><br><span class="line">	[ORDER BY　...]</span><br><span class="line">	[LIMIT row_count]</span><br></pre></td></tr></table></figure>
<p><strong>4.2 修改多个表</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">UPDATE [LOW_PRIORITY] [IGNORE] 表名1,表名2,...</span><br><span class="line">	SET 列名1&#x3D;expr1[,列名2&#x3D;expr2...]</span><br><span class="line">	[WHERE 条件]</span><br></pre></td></tr></table></figure>
<h4 id="删除记录"><a href="#删除记录" class="headerlink" title="删除记录"></a>删除记录</h4><h5 id="4-1单表操作"><a href="#4-1单表操作" class="headerlink" title="4.1单表操作"></a>4.1单表操作</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">delete [low_priority] [quick] from 表名     # quick修饰符可以加快部分删除操作的速度</span><br><span class="line">	[where 条件]</span><br><span class="line">	[order by ...]</span><br><span class="line">	[limit row_count]</span><br></pre></td></tr></table></figure>
<h5 id="2-多个表中操作"><a href="#2-多个表中操作" class="headerlink" title="2.多个表中操作"></a>2.多个表中操作</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">delete [low_priority] [quick] [ignore] 表名[.*][,表名[.*]...]</span><br><span class="line">	from table_references</span><br><span class="line">	[where ]             该语句删除from子句之前的表中的内容</span><br></pre></td></tr></table></figure>
<h5 id="或者"><a href="#或者" class="headerlink" title="或者"></a>或者</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">delete [low_priority] [quick] [ignore]  # 该语句删除from子句中的表中的内容</span><br><span class="line">	from 表名[.*][,表名[.*]...]</span><br><span class="line">	using table_references</span><br><span class="line">	[where]</span><br></pre></td></tr></table></figure>
<h5 id="EXAMPE："><a href="#EXAMPE：" class="headerlink" title="EXAMPE："></a>EXAMPE：</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">delete user1,user2</span><br><span class="line">	from user1,user2,user</span><br><span class="line">	where user1.id&#x3D;user.id and user2.id&#x3D;user.id</span><br></pre></td></tr></table></figure>
<h5 id="清除表数据"><a href="#清除表数据" class="headerlink" title="清除表数据"></a>清除表数据</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">truncate table 表名     # 清空表</span><br></pre></td></tr></table></figure>
<h3 id="数据库信息显示"><a href="#数据库信息显示" class="headerlink" title="数据库信息显示"></a>数据库信息显示</h3><p><img src="/2018/01/07/mysql2/1.jpg" height="600" width="495"></p>

      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    
      

    <span class="post-categories">
      <i class="icon-categories"></i>
        <a href="/categories/资料/">资料</a>
    </span>
    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/SQL/">SQL</a>
    </span>
    

    </div>

    
  </div>
</article>

  






    </main>

    <footer class="site-footer">
  <p class="site-info">
    Proudly powered by <a href="https://hexo.io/" target="_blank">Hexo</a> and
    Theme by <a href="https://github.com/CodeDaraW/Hacker" target="_blank">Hacker</a>
    </br>
    
    &copy; 2021 Aesm1p
    
  </p>
</footer>
    
    
  </div>
</div>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        tex2jax: {
            inlineMath: [ ["$","$"], ["\\(","\\)"] ],
            skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code'],
            processEscapes: true
        }
    });
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax();
        for (var i = 0; i < all.length; ++i)
            all[i].SourceElement().parentNode.className += ' has-jax';
    });
</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML"></script>
</body>
</html>